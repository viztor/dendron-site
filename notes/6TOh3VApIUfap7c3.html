<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  
  <title>18 Add Note Indexes - Dendron</title>
  

  <link
    rel="shortcut icon"
    href="https://wiki.dendron.so/favicon.ico"
    type="image/x-icon"
  />
  <link
    rel="stylesheet"
    href="https://wiki.dendron.so/assets/css/just-the-docs-default.css"
  />
  <script
    type="text/javascript"
    src="https://wiki.dendron.so/assets/js/just-the-docs.js"
  ></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
    crossorigin="anonymous"
  />
  <script
    type="text/javascript"
    src="https://wiki.dendron.so/assets/js/vendor/lunr.min.js"
  ></script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   
   
  
<meta name="description" content="Dendron is a local-first, markdown based, hierarchical note taking tool. It is meant to help you create, organize, and collaborate on knowledge bases of any size.">
<meta name="author" content="dendronhq">

<link rel="canonical" href="https://wiki.dendron.so/notes/6TOh3VApIUfap7c3.html">

<meta property="og:type" content="article">
<meta property="og:url" content="https://wiki.dendron.so/notes/6TOh3VApIUfap7c3.html">
<meta property="og:description" content="Dendron is a local-first, markdown based, hierarchical note taking tool. It is meant to help you create, organize, and collaborate on knowledge bases of any size.">
<meta property="og:image" content="https://wiki.dendron.so/logo.png">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@dendronhq">
<meta name="twitter:url" content="https://wiki.dendron.so/notes/6TOh3VApIUfap7c3.html">
<meta name="twitter:description" content="Dendron is a local-first, markdown based, hierarchical note taking tool. It is meant to help you create, organize, and collaborate on knowledge bases of any size.">
<meta name="twitter:image" content="https://wiki.dendron.so/logo.png">


  <meta property="og:title" content="18 Add Note Indexes - Dendron" />
  <meta name="twitter:title" content="18 Add Note Indexes - Dendron" />
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-B0JN2HHCNY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-B0JN2HHCNY');
  </script>
  
</head>



<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="svg-link" viewBox="0 0 24 24">
        <title>Link</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </svg>
      </symbol>
      <symbol id="svg-search" viewBox="0 0 24 24">
        <title>Search</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
          <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </symbol>
      <symbol id="svg-menu" viewBox="0 0 24 24">
        <title>Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
          <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </symbol>
      <symbol id="svg-arrow-right" viewBox="0 0 24 24">
        <title>Expand</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </symbol>
      <symbol id="svg-doc" viewBox="0 0 24 24">
        <title>Document</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
          <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
        </svg>
      </symbol>
    </svg>

    <div class="side-bar">
      <div class="site-header">
        <a href="https://wiki.dendron.so" class="site-title lh-tight">
  <div class="site-logo"></div>

 </a>
        <a href="#" id="menu-button" class="site-button">
          <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
        </a>
      </div>

      <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      </nav>
      <footer class="site-footer">
        ðŸŒ± with ðŸ’• using <a href="https://www.dendron.so/"> Dendron ðŸŒ² </a>
      </footer>
    </div>
    <div class="main" id="top">
        <div id="main-header" class="main-header">
          
            <div class="search">
              <div class="search-input-wrap">
                <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Dendron" aria-label="Search Dendron" autocomplete="off">
                <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
              </div>
              <div id="search-results" class="search-results"></div>
            </div>
          
          
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://wiki.dendron.so">Dendron</a></li><li class="breadcrumb-nav-list-item"><a href="https://wiki.dendron.so/notes/f143ca38-dcc6-4cd3-b84b-997aec1160ef.html">Rfc</a></li><li class="breadcrumb-nav-list-item">18 Add Note Indexes</li></ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">

        
        
        <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
        
        

        

        

        

        <script>
          $(function () {
            $('[data-toggle="popover"]').popover({html: true})
          })
        </script>

        

<div id="main" role="main">

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="18 Add Note Indexes">
    
    <meta itemprop="datePublished" content="2021-08-02T17:49:19+00:00">
    <meta itemprop="dateModified" content="2021-08-02T23:55:12+00:00">

    <div class="page__inner-wrap">

      

      <section class="page__content" itemprop="text">

        

        <h1 id="18-add-note-indexes"><a aria-hidden="true" class="anchor-heading" href="#18-add-note-indexes"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>18 Add Note Indexes</h1>
<h2 id="goals"><a aria-hidden="true" class="anchor-heading" href="#goals"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Goals</h2>
<p>Support adding index sections to notes. </p>
<h2 id="context"><a aria-hidden="true" class="anchor-heading" href="#context"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Context</h2>
<p>A common use case is to have an index section that lists all the contents of a particular area of the text. In Dendron, we already show you all <a href="https://wiki.dendron.so/notes/5f23182f-2936-4790-8d04-00bd502df723.html#children">children</a> of the current note when publishing but this is not available in the editor.</p>
<h2 id="proposal"><a aria-hidden="true" class="anchor-heading" href="#proposal"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Proposal</h2>
<p>Implement the command, <code>Dendron: Add Index</code>, that adds autogenerated index column at the bottom of the given note. </p>
<h2 id="details"><a aria-hidden="true" class="anchor-heading" href="#details"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Details</h2>
<p>The autogenerated index block will look like the below.</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token comment">&#x3C;!-- Autogenerated Index Start --></span>
<span class="token title important"><span class="token punctuation">##</span> Index</span>
<span class="token list punctuation">-</span> [[proj.one]]
<span class="token list punctuation">-</span> ...
<span class="token comment">&#x3C;!-- Autogenerated Index End --></span>
</code></pre>
<p>When run for the first time, it will generate a child of all the immediate children of the current note. After it has run, Dendron will add <code>indexLastUpdated</code> attribute with the timestamp of the last added note. On subsequent runs, <code>Add Index</code> will only add children that have been created after the <code>indexLastUpdated</code> timestamp. </p>
<h3 id="special-cases"><a aria-hidden="true" class="anchor-heading" href="#special-cases"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Special Cases</h3>
<ul>
<li>the <code>Autogenerated Index</code> markers are deleted
<ul>
<li>if we can't find both the <code>Start</code> and <code>End</code> marker, Dendron will regenerate it at the very bottom of the page</li>
<li>when regenerating, if the note has an <code>indexLastUpdated</code> property, we will add all new children that have been created since that time, otherwise, we will generate all indexes</li>
</ul>
</li>
<li>the <code># Index</code> header is deleted
<ul>
<li>same behavior as above</li>
</ul>
</li>
<li>a manual line has been entered inside the index block
<pre class="language-markdown"><code class="language-markdown">...
<span class="token list punctuation">-</span> [[proj.three]]
Some manual line
<span class="token comment">&#x3C;!-- Autogenerated Index end--></span>
</code></pre>
<ul>
<li>in this case, we would add any new links below the last found link</li>
</ul>
<pre class="language-markdown"><code class="language-markdown">...
<span class="token list punctuation">-</span> [[proj.three]]
<span class="token list punctuation">-</span> [[proj.four]]
Some manual line
<span class="token comment">&#x3C;!-- Autogenerated Index end--></span>
</code></pre>
</li>
<li>user modifies a link after it has been pasted
<ul>
<li>this is fine, Dendron doesn't process any links it already inserted in a previous run</li>
</ul>
</li>
</ul>
<h2 id="example"><a aria-hidden="true" class="anchor-heading" href="#example"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Example</h2>
<h3 id="simple-case"><a aria-hidden="true" class="anchor-heading" href="#simple-case"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Simple Case</h3>
<p>Take the following hiearchy </p>
<pre><code>- proj.md
    - proj.one.md
    - proj.two.md
    - proj.three.md
</code></pre>
<ul>
<li>running <code>Dendron: Add Index</code> inside proj when blank
<ul>
<li>adds all entries one level below to the bottom of the note under <code>## Index</code></li>
<li>creates <code>indexLastUpdated</code> entry in the frontmatter that has the most recent <code>created</code> time </li>
</ul>
</li>
</ul>
<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token font-matter yaml language-yaml">id: ...
title: Projects
indexLastUpdated: 12345</span> 
<span class="token punctuation">---</span></span>

<span class="token comment">&#x3C;!-- Autogenerated Index Start --></span>
<span class="token title important"><span class="token punctuation">##</span> Index</span>
<span class="token list punctuation">-</span> [[proj.one]]
<span class="token list punctuation">-</span> [[proj.two]]
<span class="token list punctuation">-</span> [[proj.three]]
<span class="token comment">&#x3C;!-- Autogenerated Index End --></span>
</code></pre>
<h3 id="run-add-index-when-entries-already-exist"><a aria-hidden="true" class="anchor-heading" href="#run-add-index-when-entries-already-exist"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Run <code>Add Index</code> when entries already exist</h3>
<ul>
<li>running <code>Dendron: Add Index</code> inside proj when there are already entries
<ul>
<li>dendron will check if there are new direct children since the last <code>indexLastUpdated</code> time and add them to the bottom of the <code>## Index</code> block</li>
</ul>
</li>
</ul>
<ol>
<li>Index note exists, new <code>[[proj.four]]</code> created at time <code>12346</code>
<ul>
<li>in this example, <code>proj.four</code> is added at the end of the index list</li>
</ul>
<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token font-matter yaml language-yaml">id: ...
title: Projects
indexLastUpdated: 12346</span> 
<span class="token punctuation">---</span></span>
<span class="token comment">&#x3C;!-- Autogenerated Index Start --></span>
<span class="token title important"><span class="token punctuation">##</span> Index</span>
<span class="token list punctuation">-</span> [[proj.one]]
<span class="token list punctuation">-</span> [[proj.two]]
<span class="token list punctuation">-</span> [[proj.three]]
<span class="token list punctuation">-</span> [[proj.four]]
<span class="token comment">&#x3C;!-- Autogenerated Index End --></span>
</code></pre>
</li>
<li>Index note exists but is manually modified, new <code>[[proj.four]]</code> created at time <code>12346</code></li>
</ol>
<ul>
<li>before
<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token font-matter yaml language-yaml">id: ...
title: Projects
indexLastUpdated: 12346</span> 
<span class="token punctuation">---</span></span>
<span class="token comment">&#x3C;!-- Autogenerated Index Start --></span>
<span class="token title important"><span class="token punctuation">##</span> Index</span>
<span class="token list punctuation">-</span> [[proj.one]
<span class="token list punctuation">-</span> [[proj.two]]
<span class="token list punctuation">-</span> [[proj.three]]
</code></pre>
</li>
<li>after
<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token font-matter yaml language-yaml">id: ...
title: Projects
indexLastUpdated: 12346</span> 
<span class="token punctuation">---</span></span>
<span class="token comment">&#x3C;!-- Autogenerated Index Start --></span>
<span class="token title important"><span class="token punctuation">##</span> Index</span>
<span class="token list punctuation">-</span> [[proj.one]]
<span class="token list punctuation">-</span> [[proj.two]]
<span class="token list punctuation">-</span> [[proj.three]]
<span class="token list punctuation">-</span> [[proj.four]]
</code></pre>
</li>
</ul>
<h2 id="faq"><a aria-hidden="true" class="anchor-heading" href="#faq"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>FAQ</h2>
<h3 id="how-does-this-behave-in-multi-vault"><a aria-hidden="true" class="anchor-heading" href="#how-does-this-behave-in-multi-vault"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>How does this behave in multi-vault?</h3>
<p>In the initial verison, we will only generate index links to children that come from the same vault as the parent note. In the future, we might introduce an option to include multi-vault results</p>
<h3 id="what-happens-if-the-direct-child-is-a-stub"><a aria-hidden="true" class="anchor-heading" href="#what-happens-if-the-direct-child-is-a-stub"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>What happens if the direct child is a stub?</h3>
<p>By default, Dendron will ignore <a href="https://wiki.dendron.so/notes/c6fd6bc4-7f75-4cbb-8f34-f7b99bfe2d50.html#stubs">stubs</a> when scanning for indexes. This behavior can be changed with <a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">addStubs (Private)</a>. If set, Dendron will create a note for any stubs encountered.</p>
<h2 id="config"><a aria-hidden="true" class="anchor-heading" href="#config"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Config</h2>
<h3 id="indexheadername"><a aria-hidden="true" class="anchor-heading" href="#indexheadername"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>indexHeaderName</h3>
<ul>
<li>default: index</li>
</ul>
<p>The name of the index note</p>
<h3 id="addstubs"><a aria-hidden="true" class="anchor-heading" href="#addstubs"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>addStubs</h3>
<ul>
<li>default: false</li>
</ul>
<p>Should <code>Add Index</code> add entries to stubs</p>
<h2 id="discussion"><a aria-hidden="true" class="anchor-heading" href="#discussion"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Discussion</h2>
<ul>
<li>Please leave feedback in <a href="https://github.com/dendronhq/dendron/discussions/1076">this github discussion</a>.</li>
</ul>
<hr>
<h2 id="backlinks"><a aria-hidden="true" class="anchor-heading" href="#backlinks"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Backlinks</h2>
<ul>
<li><a href="https://wiki.dendron.so/notes/XJvKMQfKVMD1Rm4o.html">Release Notes (version 0.53)</a></li>
<li><a href="https://wiki.dendron.so/notes/mZhQvxLdMJKaqpgyjOTVG.html">Release Notes (version 0.54)</a></li>
</ul><span id="navId" data="6TOh3VApIUfap7c3"></span>

                
      </section>

      
    </div>

    
  </article>

  
  
</div>

        <div class="thumbs feedback_trigger right-bottom"></div>

        
          <hr>
          <footer>
            
            

            
              <div class="d-flex mt-2">
              <p class="text-small text-grey-dk-000 mb-0 mr-2">
                Page last modified: <span class="d-inline-block">8/2/2021</span>.
              </p>
            
                
                  <p class="text-small text-grey-dk-000 mb-0">
                    <a href="https://github.com/dendronhq/dendron-site/edit/main/vault/dendron.rfc.18-add-note-indexes.md" id="edit-this-page">Edit this page on GitHub</a>
                  </p>
                
              </div>
          </footer>
        
    </div>
</div>


  

  <div class="search-overlay"></div>

</div>

</body>
</html>
